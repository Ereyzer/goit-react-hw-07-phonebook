(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={Form:"ContactForm_Form__1F0V5",AddBtn:"ContactForm_AddBtn__1p_Mx",Item:"ContactForm_Item__3bd6s",Label:"ContactForm_Label__-113E",Input:"ContactForm_Input__2deM_"}},25:function(t,e,n){t.exports={Button:"ContactList_Button__21Aqc",Item:"ContactList_Item__3PQXl",Text:"ContactList_Text__bkDmv"}},26:function(t,e,n){t.exports={Label:"Filter_Label__1MI3i",Input:"Filter_Input__3e6d8",Item:"Filter_Item__Kdpzq"}},47:function(t,e,n){},48:function(t,e,n){},74:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"addContactAction",(function(){return h})),n.d(r,"filterAction",(function(){return x})),n.d(r,"deleteActions",(function(){return v})),n.d(r,"existContactsAction",(function(){return g}));var c={};n.r(c),n.d(c,"getContacts",(function(){return _})),n.d(c,"getFilter",(function(){return F})),n.d(c,"isLoading",(function(){return y})),n.d(c,"error",(function(){return w})),n.d(c,"getContactsWithFilter",(function(){return L}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return M})),n.d(a,"addNewContact",(function(){return V})),n.d(a,"deleteContact",(function(){return D}));var o=n(0),i=n.n(o),u=n(14),s=n.n(u),l=(n(47),n(48),n(21)),b=n(16),d=n.n(b),j=n(112),f=n(15),O=(n(28),n(111)),p=n(8),m=n(7),h=Object(m.b)("contacts/addContact"),x=Object(m.b)("contacts/filter"),v=Object(m.b)("contacts/deleteContact"),g=Object(m.b)("contact/existContact"),C=n(18);var _=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},y=function(t){return t.contacts.loading},w=function(t){return t.contacts.error},L=Object(C.a)([_,F],(function(t,e){return function(t,e){return""===e?t:t.filter((function(t){var n=t.data.name;return function(t,e){var n=e.slice(0,t.length);return t.toLowerCase()===n.toLowerCase()}(e,n)}))}(t,e)})),I=n(17),N=n.n(I),k=n(23),A=n(24),B=n.n(A),T="http://localhost:4040/contacts",E=function(){return B.a.get(T).then((function(t){return t})).catch(console.log)},S=function(t){return B.a.post(T,{data:t})},W=function(t){return B()({method:"delete",url:"".concat(T,"/").concat(t)})},M=Object(m.c)([g],function(){var t=Object(k.a)(N.a.mark((function t(e,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,E();case 4:return c=t.sent,t.abrupt("return",c.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r("".concat(t.t0.message)));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),V=Object(m.c)([h],function(){var t=Object(k.a)(N.a.mark((function t(e,n){var r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,S(e);case 4:return c=t.sent,t.abrupt("return",c.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r("".concat(t.t0.message,"-- we can not add this contact please reload this page and try again")));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),D=Object(m.c)([v],function(){var t=Object(k.a)(N.a.mark((function t(e,n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,W(e);case 4:if(200!==t.sent.status){t.next=7;break}return t.abrupt("return",e);case 7:t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",r("".concat(t.t0.message,"-- we can not delete this contact please reload this page and try again")));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),P=n(2);function R(){var t=Object(o.useRef)(Object(j.a)()),e=Object(o.useRef)(Object(j.a)()),n=Object(o.useState)(""),i=Object(l.a)(n,2),u=i[0],s=i[1],b=Object(o.useState)(""),m=Object(l.a)(b,2),h=m[0],x=m[1],v=Object(p.c)(c.getContacts),g=Object(p.b)();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("form",{id:"form",className:d.a.Form,onSubmit:function(t){t.preventDefault(),""!==u.trim()&&""!==h.trim()?v.some((function(t){return t.data.name.toLowerCase()===u.toLowerCase()}))?f.b.error(u+" is already exist"):(g(r.filterAction("")),g(a.addNewContact({name:u,number:h})),f.b.success("you have new contact"),s(""),x("")):f.b.info("fill in all fields")},children:[Object(P.jsx)("label",{htmlFor:t.current,className:d.a.Label,children:"Name"}),Object(P.jsx)("input",{id:t.current,className:d.a.Input,type:"text",name:"name",value:u,onChange:function(t){return s(t.target.value)}}),Object(P.jsx)("label",{htmlFor:e.current,className:d.a.Label,name:"number",children:"Number"}),Object(P.jsx)("input",{id:e.current,className:d.a.Input,type:"tel",name:"number",value:h,onChange:function(t){return x(t.target.value)}}),Object(P.jsx)("div",{className:d.a.AddBtn,children:Object(P.jsx)(O.a,{type:"submit",variant:"contained",color:"primary",children:"Add contact"})})]})})}var q=n(25),z=n.n(q),J=(n(74),n(75),n(38)),H=n.n(J),K=function(){return Object(P.jsx)(H.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,className:"Loading"})};function Q(){var t=Object(p.c)(c.getContactsWithFilter),e=Object(p.c)(c.isLoading),n=Object(p.b)();console.log(t);return Object(o.useEffect)((function(){n(a.fetchContacts())}),[n]),e?Object(P.jsx)(K,{}):!e&&t[0]?Object(P.jsx)("ul",{children:t.map((function(t){var e=t.data,r=e.name,c=e.number,o=t.id;return Object(P.jsx)("li",{children:Object(P.jsxs)("div",{className:z.a.Item,children:[Object(P.jsxs)("p",{className:z.a.Text,children:[r,": ",Object(P.jsx)("span",{children:c})]}),Object(P.jsx)("button",{type:"button",className:z.a.Button,onClick:function(){return function(t){var e=t.id,r=t.name;return f.b.info(r+" is deleted"),n(a.deleteContact(e))}({id:o,name:r})},children:"Delete"})]})},o)}))}):Object(P.jsx)("h3",{children:"is Empty"})}var X=n(26),G=n.n(X);function U(){var t=Object(p.c)(c.getFilter),e=Object(p.b)(),n=i.a.useRef(Object(j.a)());return Object(P.jsxs)("div",{className:G.a.Item,children:[Object(P.jsx)("label",{className:G.a.Label,htmlFor:n.current,children:"Find contacts by name"}),Object(P.jsx)("input",{className:G.a.Input,id:n.current,value:t,onChange:function(t){return e(r.filterAction("".concat(t.target.value.trim())))}})]})}function Y(){var t=Object(p.c)(c.error);return Object(o.useEffect)((function(){t&&f.b.error(t)}),[t]),Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{id:"title",children:"Phonebook"}),Object(P.jsx)(R,{}),Object(P.jsx)("h2",{children:"Contacts"}),Object(P.jsx)(U,{}),Object(P.jsx)(Q,{}),Object(P.jsx)(f.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(P.jsx)(f.a,{})]})}var Z,$,tt,et=n(39),nt=n(13),rt=n(4),ct=n(12),at=n(6),ot={items:[],filter:"",error:null,loading:!1},it=Object(m.d)(ot.items,(Z={},Object(rt.a)(Z,M.fulfilled,(function(t,e){var n=e.payload;return Object(ct.a)(n)})),Object(rt.a)(Z,V.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(ct.a)(t),[n])})),Object(rt.a)(Z,D.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Z)),ut=Object(m.d)(ot.loading,($={},Object(rt.a)($,M.pending,(function(){return!0})),Object(rt.a)($,M.fulfilled,(function(){return!1})),Object(rt.a)($,M.rejected,(function(){return!1})),$)),st=Object(m.d)(ot.error,(tt={},Object(rt.a)(tt,M.pending,(function(){return null})),Object(rt.a)(tt,V.pending,(function(){return null})),Object(rt.a)(tt,D.pending,(function(){return null})),Object(rt.a)(tt,M.rejected,(function(t,e){return e.payload})),Object(rt.a)(tt,D.rejected,(function(t,e){return e.payload})),Object(rt.a)(tt,V.rejected,(function(t,e){return e.payload})),tt)),lt=Object(m.d)(ot.filter,Object(rt.a)({},x,(function(t,e){return e.payload}))),bt=Object(at.b)({items:it,filter:lt,error:st,loading:ut}),dt=n(40),jt={key:"List",storage:n.n(dt).a,blacklist:["filter","items"]},ft=Object(nt.g)(jt,bt),Ot=Object(m.a)({reducer:{contacts:ft},middleware:function(t){return Object(ct.a)(t({serializableCheck:{ignoredActions:[nt.a,nt.f,nt.b,nt.c,nt.d,nt.e]}}))},devTools:!1}),pt={store:Ot,persistor:Object(nt.h)(Ot)};s.a.render(Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(p.a,{store:pt.store,children:Object(P.jsx)(et.a,{loading:null,persistor:pt.persistor,children:Object(P.jsx)(Y,{})})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.21a18feb.chunk.js.map